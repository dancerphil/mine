(this.webpackJsonpmine=this.webpackJsonpmine||[]).push([[0],{10:function(e,n,t){e.exports={block:"Block_block__iCjDP"}},14:function(e,n,t){e.exports={container:"App_container__1MQN3"}},20:function(e,n,t){},29:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t(12),o=t.n(a),c=(t(20),t(3)),l=function(){return window.outerWidth},i=function(){var e=Object(r.useState)(l),n=Object(c.a)(e,2),t=n[0],a=n[1];return Object(r.useEffect)((function(){var e=function(){return a(l())};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}})),t},u=t(5),f=t(11),b=t(31),m=Object(b.a)(0),v=m.useValue,s=Object(f.a)(),_=function(e,n){return s.getValue({x:e,y:n})},h=function(){for(var e=[],n=0;n<1e3;n++){var t=d(n),r=Object(c.a)(t,2),a=r[0],o=r[1];e.push(_(a,o))}return e},j=!1,d=function(e){return[e%10,Math.floor(e/10)]},O=function(e){var n=e.x,t=e.y,r=[_(n-1,t-1),_(n-1,t),_(n-1,t+1),_(n,t-1),_(n,t+1),_(n+1,t-1),_(n+1,t),_(n+1,t+1)];return Object(u.compact)(r)},k=function(e){var n=d(e),t=Object(c.a)(n,2);return{x:t[0],y:t[1],mine:!1,reveal:!1,mark:!1,label:0}};!function(){for(var e=0;e<1e3;e++){var n=k(e);s.set({x:n.x,y:n.y},n)}}();var y=function(){h().forEach((function(e){e.mine=!1}));for(var e=0;e<150;){var n=Math.floor(1e3*Math.random()),t=d(n),r=Object(c.a)(t,2),a=r[0],o=r[1],l=s.getValue({x:a,y:o});l.mine||(l.mine=!0,e++)}h().forEach((function(e){var n=O(e);e.label=Object(u.sumBy)(n,"mine")}))},p=function(e){e.mark=!0},E=function e(n){if(!n.reveal){if(n.reveal=!0,n.mine)return console.error("\u5931\u8d25"),void h().forEach((function(e){e.reveal=!0}));0===n.label&&O(n).forEach(e)}},x=function(e){console.log("click"),j||(!function(e){for(var n=0;n<100;n++)if(y(),!e.mine&&0===e.label)return}(e),j=!0),e.reveal?function(e){var n=O(e);Object(u.sumBy)(n,(function(e){return e.reveal?0:1}))!==e.label?Object(u.sumBy)(n,(function(e){return e.mark?1:0}))===e.label&&n.filter((function(e){return!e.mark})).forEach(E):n.filter((function(e){return!e.reveal})).forEach(p)}(e):E(e),m.set((function(e){return e+1}))},T=t(7),w=t(9),B=t.n(w),g=t(10),L=t.n(g),M=t(4),C=t.n(M),I=t(1),N=function(e){var n,t=e.block,a=e.style,o=t.mine,c=t.reveal,l=t.mark,i=t.label,u=Object(r.useCallback)((function(){return x(t)}),[t]);if(!c){var f=B()(L.a.block,C.a.cover,Object(T.a)({},C.a.mark,l));return Object(I.jsx)("div",{className:f,style:a,onClick:u,children:l&&"m"})}var b=B()(L.a.block,C.a.reveal,(n={},Object(T.a)(n,C.a["label".concat(i)],!o),Object(T.a)(n,C.a.mine,o),n));return Object(I.jsx)("div",{className:b,style:a,onClick:u,children:o?"!":i})},V=t(14),z=t.n(V),D=function(){v();var e=Object(r.useRef)(null),n=i(),t={width:n<400?n:400},a=t.width/10,o={width:a,height:a};return Object(r.useEffect)((function(){var n=function(n){var t=e.current,r=n.pageX-t.offsetLeft,o=n.pageY-t.offsetTop;!function(e,n){var t=_(e,n);t&&x(t)}(Math.floor(r/a),Math.floor(o/a))},t=function(e){e.preventDefault(),n(e)},r=function(e){e.buttons&&n(e)};document.body.addEventListener("touchmove",t,{passive:!1});var o=e.current;return o.addEventListener("mousemove",r),function(){document.body.removeEventListener("touchmove",t),o.removeEventListener("mousemove",r)}}),[a]),Object(I.jsx)("div",{className:z.a.container,style:t,ref:e,children:h().map((function(e){var n=e.x,t=e.y;return Object(I.jsx)(N,{block:e,style:o},"".concat(n,"-").concat(t))}))})};o.a.render(Object(I.jsx)(D,{}),document.getElementById("root"))},4:function(e,n,t){e.exports={cover:"Theme2_cover__3865b",reveal:"Theme2_reveal__1EBmM",mine:"Theme2_mine__3IuD1",mark:"Theme2_mark__3Tzcm",label0:"Theme2_label0__3RWIe",label1:"Theme2_label1__2ZQ5E",label2:"Theme2_label2__3qBuF",label3:"Theme2_label3__2CRCO",label4:"Theme2_label4__3JfsB",label5:"Theme2_label5__10eKI",label6:"Theme2_label6__1_WrO",label7:"Theme2_label7__2QVoS",label8:"Theme2_label8__3yYkG"}}},[[29,1,2]]]);
//# sourceMappingURL=main.938a4b27.chunk.js.map