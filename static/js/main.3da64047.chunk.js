(this.webpackJsonpmine=this.webpackJsonpmine||[]).push([[0],{11:function(e,n,t){e.exports={block:"Block_block__iCjDP"}},20:function(e,n,t){},29:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t(13),c=t.n(a),o=(t(20),t(8)),l=t(4),i=t(12),u=t(31),f=Object(u.a)(0),b=function(){return f.set((function(e){return e+1}))},s=f.useValue;window.addEventListener("resize",b);var m=Object(i.a)(),v=function(e,n){return m.getValue({x:e,y:n})},_=function(){for(var e=[],n=0;n<1e3;n++){var t=d(n),r=Object(o.a)(t,2),a=r[0],c=r[1];e.push(v(a,c))}return e},h=!1,d=function(e){return[e%10,Math.floor(e/10)]},j=function(e){var n=e.x,t=e.y,r=[v(n-1,t-1),v(n-1,t),v(n-1,t+1),v(n,t-1),v(n,t+1),v(n+1,t-1),v(n+1,t),v(n+1,t+1)];return Object(l.compact)(r)},O=function(e){var n=d(e),t=Object(o.a)(n,2);return{x:t[0],y:t[1],mine:!1,reveal:!1,mark:!1,label:0}};!function(){for(var e=0;e<1e3;e++){var n=O(e);m.set({x:n.x,y:n.y},n)}}();var k=function(){_().forEach((function(e){e.mine=!1}));for(var e=0;e<150;){var n=Math.floor(1e3*Math.random()),t=d(n),r=Object(o.a)(t,2),a=r[0],c=r[1],i=m.getValue({x:a,y:c});i.mine||(i.mine=!0,e++)}_().forEach((function(e){var n=j(e);e.label=Object(l.sumBy)(n,"mine")}))},p=function(e){e.mark=!0},y=function e(n){if(!n.reveal){if(n.reveal=!0,n.mine)return console.error("\u5931\u8d25"),void _().forEach((function(e){e.reveal=!0}));0===n.label&&j(n).forEach(e)}},x=function(e){h||(!function(e){for(var n=0;n<100;n++)if(k(),!e.mine&&0===e.label)return}(e),h=!0),e.reveal?function(e){var n=j(e);Object(l.sumBy)(n,(function(e){return e.reveal?0:1}))!==e.label?Object(l.sumBy)(n,(function(e){return e.mark?1:0}))===e.label&&n.filter((function(e){return!e.mark})).forEach(y):n.filter((function(e){return!e.reveal})).forEach(p)}(e):y(e),b()},E=t(6),T=t(10),w=t.n(T),g=t(11),B=t.n(g),C=t(3),M=t.n(C),L=t(1),N=function(e){var n,t=e.block,a=e.style,c=t.mine,o=t.reveal,l=t.mark,i=t.label,u=Object(r.useCallback)((function(){return x(t)}),[t]);if(!o){var f=w()(B.a.block,M.a.cover,Object(E.a)({},M.a.mark,l));return Object(L.jsx)("div",{className:f,style:a,onClick:u,children:l&&"m"})}var b=w()(B.a.block,M.a.reveal,(n={},Object(E.a)(n,M.a["label".concat(i)],!c),Object(E.a)(n,M.a.mine,c),n));return Object(L.jsx)("div",{className:b,style:a,onClick:u,children:c?"!":i})},I=t(7),V=t.n(I),A=function(){s();var e=Object(r.useRef)(null),n=window.outerWidth,t=window.outerHeight,a={width:n<400?n:400},c=a.width/10,o={width:c,height:c};Object(r.useEffect)((function(){var n=function(n){var t=e.current,r=n.pageX-t.offsetLeft,a=n.pageY-t.offsetTop;!function(e,n){var t=v(e,n);t&&x(t)}(Math.floor(r/c),Math.floor(a/c))},t=function(e){e.preventDefault(),n(e)},r=function(e){e.buttons&&n(e)};document.body.addEventListener("touchmove",t,{passive:!1});var a=e.current;return a.addEventListener("mousemove",r),function(){document.body.removeEventListener("touchmove",t),a.removeEventListener("mousemove",r)}}),[c]);var l=Object(r.useCallback)((function(){e.current.scrollBy(0,.5*-t)}),[t]),i=Object(r.useCallback)((function(){e.current.scrollBy(0,.5*t)}),[t]),u=_();return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("div",{className:V.a.header,onClick:l,children:u.filter((function(e){return e.mine&&!e.mark})).length}),Object(L.jsx)("div",{className:V.a.container,style:a,ref:e,children:u.map((function(e){var n=e.x,t=e.y;return Object(L.jsx)(N,{block:e,style:o},"".concat(n,"-").concat(t))}))}),Object(L.jsx)("div",{className:V.a.footer,onClick:i,children:"next page"})]})};c.a.render(Object(L.jsx)(A,{}),document.getElementById("root"))},3:function(e,n,t){e.exports={cover:"Theme2_cover__3865b",reveal:"Theme2_reveal__1EBmM",mine:"Theme2_mine__3IuD1",mark:"Theme2_mark__3Tzcm",label0:"Theme2_label0__3RWIe",label1:"Theme2_label1__2ZQ5E",label2:"Theme2_label2__3qBuF",label3:"Theme2_label3__2CRCO",label4:"Theme2_label4__3JfsB",label5:"Theme2_label5__10eKI",label6:"Theme2_label6__1_WrO",label7:"Theme2_label7__2QVoS",label8:"Theme2_label8__3yYkG"}},7:function(e,n,t){e.exports={container:"App_container__1MQN3",header:"App_header__3ZZ1n",footer:"App_footer__29Fsv"}}},[[29,1,2]]]);
//# sourceMappingURL=main.3da64047.chunk.js.map