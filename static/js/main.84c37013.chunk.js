(this.webpackJsonpmine=this.webpackJsonpmine||[]).push([[0],{10:function(e,n,t){e.exports={block:"Block_block__iCjDP"}},14:function(e,n,t){e.exports={container:"App_container__1MQN3"}},20:function(e,n,t){},29:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t(12),c=t.n(a),l=(t(20),t(3)),o=function(){return window.outerWidth},i=function(){var e=Object(r.useState)(o),n=Object(l.a)(e,2),t=n[0],a=n[1];return Object(r.useEffect)((function(){var e=function(){return a(o())};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}})),t},u=t(5),f=t(11),b=t(31),m=Object(b.a)(0),s=m.useValue,_=Object(f.a)(),v=function(e,n){return _.getValue({x:e,y:n})},h=function(){for(var e=[],n=0;n<1e3;n++){var t=O(n),r=Object(l.a)(t,2),a=r[0],c=r[1];e.push(v(a,c))}return e},j=!1,O=function(e){return[e%10,Math.floor(e/10)]},k=function(e){var n=e.x,t=e.y,r=[v(n-1,t-1),v(n-1,t),v(n-1,t+1),v(n,t-1),v(n,t+1),v(n+1,t-1),v(n+1,t),v(n+1,t+1)];return Object(u.compact)(r)},d=function(e){var n=O(e),t=Object(l.a)(n,2);return{x:t[0],y:t[1],mine:!1,reveal:!1,mark:!1,label:0}};!function(){for(var e=0;e<1e3;e++){var n=d(e);_.set({x:n.x,y:n.y},n)}}();var y=function(){for(var e=0;e<150;){var n=Math.floor(1e3*Math.random()),t=O(n),r=Object(l.a)(t,2),a=r[0],c=r[1],o=_.getValue({x:a,y:c});o.mine||(o.mine=!0,e++)}h().forEach((function(e){var n=k(e);e.label=Object(u.sumBy)(n,"mine")}))},p=function(e){e.mark=!0},x=function e(n){if(!n.reveal){if(n.reveal=!0,n.mine)return console.error("\u5931\u8d25"),void h().forEach((function(e){e.reveal=!0}));0===n.label&&k(n).forEach(e)}},T=function(e){j||(!function(e){for(var n=0;n<100;n++)if(y(),!e.mine&&0===e.label)return}(e),j=!0),e.reveal?function(e){var n=k(e);Object(u.sumBy)(n,(function(e){return e.reveal?0:1}))!==e.label?Object(u.sumBy)(n,(function(e){return e.mark?1:0}))===e.label&&n.filter((function(e){return!e.mark})).forEach(x):n.filter((function(e){return!e.reveal})).forEach(p)}(e):x(e),m.set((function(e){return e+1}))},w=t(7),E=t(9),M=t.n(E),B=t(10),C=t.n(B),g=t(4),I=t.n(g),N=t(1),V=function(e){var n,t=e.block,a=e.style,c=t.mine,l=t.reveal,o=t.mark,i=t.label,u=Object(r.useCallback)((function(){return T(t)}),[t]);if(!l){var f=M()(C.a.block,I.a.cover,Object(w.a)({},I.a.mark,o));return Object(N.jsx)("div",{className:f,style:a,onClick:u,children:o&&"m"})}var b=M()(C.a.block,I.a.reveal,(n={},Object(w.a)(n,I.a["label".concat(i)],!c),Object(w.a)(n,I.a.mine,c),n));return Object(N.jsx)("div",{className:b,style:a,onClick:u,children:c?"!":i})},z=t(14),J=t.n(z),L=function(){s();var e=Object(r.useRef)(null),n=i(),t={width:n<400?n:400},a=t.width/10,c={width:a,height:a},l=Object(r.useCallback)((function(n){if(n.buttons){var t=e.current,r=n.pageX-t.offsetLeft,c=n.pageY-t.offsetTop;!function(e,n){var t=v(e,n);t&&T(t)}(Math.floor(r/a),Math.floor(c/a))}}),[a]);return Object(N.jsx)("div",{className:J.a.container,style:t,ref:e,onMouseMove:l,children:h().map((function(e){var n=e.x,t=e.y;return Object(N.jsx)(V,{block:e,style:c},"".concat(n,"-").concat(t))}))})};c.a.render(Object(N.jsx)(L,{}),document.getElementById("root"))},4:function(e,n,t){e.exports={cover:"Theme2_cover__3865b",reveal:"Theme2_reveal__1EBmM",mine:"Theme2_mine__3IuD1",mark:"Theme2_mark__3Tzcm",label0:"Theme2_label0__3RWIe",label1:"Theme2_label1__2ZQ5E",label2:"Theme2_label2__3qBuF",label3:"Theme2_label3__2CRCO",label4:"Theme2_label4__3JfsB",label5:"Theme2_label5__10eKI",label6:"Theme2_label6__1_WrO",label7:"Theme2_label7__2QVoS",label8:"Theme2_label8__3yYkG"}}},[[29,1,2]]]);
//# sourceMappingURL=main.84c37013.chunk.js.map